# 在线状态订阅开启功能优化

## 场景

客户在“开发者后台-高级功能设置”中，开通“在线状态订阅”功能。

## 问题

目前，开通“在线状态订阅”功能后，在同时开通了“多设备消息同步”的情况下，只有用户最后一个终端离线或登出时，才会进行通知，如果需要每一个终端离线或登出后，都发送状态通知，需要提交工单申请开通。

## 目的

客户开通“在线状态订阅”功能后，实现每一个终端离线或登出后，都发送状态通知。

## 需求

修改“开发者后台-高级功能设置”中，开通、关闭(包括：开发、生产环境)“在线状态订阅”功能逻辑：

1、开通时，同时开通"每一个终端离线或登出后，都发送状态通知功能"。

2、关闭时，同时关闭此功能。

功能设置接口：/offline/status/rss/set.json

参数：is_rss，Boolean，True 为开启、false 为关闭，默认为关闭

详细也可参考 Admin 后台，App 管理-App 列表-Server 配置中“在线状态订阅离线退出状态通知”功能。